"use strict";(self.webpackChunkschooltechsystem=self.webpackChunkschooltechsystem||[]).push([[428],{7428:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var s=n(4165),r=n(5861),a=n(9439),c=n(2791),i=n(3027),o=n(3360),l=n(1620),u=n(2062),d=n.n(u),h=(n(496),n(248)),x=n(6950),m=n(155),f=n(184),j=function(e){var t=e.subs,n=e.updatePay,s=e.softwareId,r=e.amount,a=e.currency,c=e.rate,i=e.KenyanRate,o=e.email,l=e.setSubs;return(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"text-center text-capitalize h6 text-decoration-underline",children:(0,f.jsx)("strong",{children:"Get Activation Code at :"})}),(0,f.jsx)("p",{className:"text-center",children:t.length>0?"Activation Code if not already used ".concat(t[t.length-1].code):(0,f.jsxs)("p",{className:"text-center h6 text-decoration-underline",children:[(0,f.jsx)("strong",{children:"NB: "}),"After Payment Click Go Back And Then Next For The Activation Code"]})})," ",(0,f.jsx)("div",{className:" row d-flex justify-content-center",children:(0,f.jsx)("div",{className:"col-md-6 ",children:(0,f.jsxs)("ul",{children:[(0,f.jsx)("li",{children:(0,f.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,f.jsxs)("span",{children:[" ",(0,f.jsx)("strong",{children:"Annual :"}),(0,f.jsx)("br",{})," ",parseInt((r>71.9?r:60)*(0===c?1:c))+(0===c?c:1)," ",a," Only"," "]}),(0,f.jsx)("br",{}),"KES"===a&&0!==c?(0,f.jsx)(x.Z,{amount:parseInt((r>71.9?r:60)*(0===c?1:c))+(0===c?c:1),type:"annual",softwareId:s,from:"software",setSubs:l}):(0,f.jsx)(m.Z,{amountUSD:r>71.9?r:60,kenyanRate:i,localRate:c,localCurrency:a,type:"annual",softwareId:s,email:o,from:"software",setSubs:l})]})})," ",(0,f.jsxs)("li",{className:"mt-1",children:[" ",(0,f.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,f.jsxs)("span",{children:[" ",(0,f.jsx)("strong",{children:"BiAnnual :"})," ",(0,f.jsx)("br",{}),parseInt((r>71.9?r:60)/2*(0===c?1:c))+(0===c?c:1)," ",a," Only"," "]}),"KES"===a&&0!==c?(0,f.jsx)(x.Z,{amount:parseInt((r>71.9?r:60)/2*(0===c?1:c))+(0===c?c:1),type:"biannual",softwareId:s,from:"software",setSubs:l}):(0,f.jsx)(m.Z,{amountUSD:(r>71.9?r:60)/2,kenyanRate:i,localRate:c,localCurrency:a,type:"biannual",softwareId:s,email:o,from:"software",setSubs:l})]})]})," ",(0,f.jsx)("li",{className:"mt-1",children:(0,f.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,f.jsxs)("span",{children:[" ",(0,f.jsx)("strong",{children:"Quarterly :"})," ",(0,f.jsx)("br",{}),parseInt((r>71.9?r:60)/4*(0===c?1:c))+(0===c?c:1)," ",a," Only"]}),"KES"===a&&0!==c?(0,f.jsx)(x.Z,{amount:parseInt((r>71.9?r:60)/4*(0===c?1:c))+(0===c?c:1),type:"quaterly",softwareId:s,from:"software",setSubs:l}):(0,f.jsx)(m.Z,{amountUSD:(r>71.9?r:60)/4,kenyanRate:i,localRate:c,localCurrency:a,type:"quarterly",softwareId:s,email:o,from:"software",setSubs:l})]})})," ",(0,f.jsx)("li",{className:"mt-1",children:(0,f.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,f.jsxs)("span",{children:[" ",(0,f.jsx)("strong",{children:"Monthly :"})," ",(0,f.jsx)("br",{}),parseInt((r>71.9?r:60)/12*(0===c?1:c))+(0===c?c:1)," ",a," Only"]}),"KES"===a&&0!==c?(0,f.jsx)(x.Z,{amount:parseInt((r>71.9?r:60)/12*(0===c?1:c))+(0===c?c:1),type:"monthly",softwareId:s,from:"software",setSubs:l}):(0,f.jsx)(m.Z,{amountUSD:(r>71.9?r:60)/12,kenyanRate:i,localRate:c,localCurrency:a,type:"monthly",softwareId:s,email:o,from:"software",setSubs:l})]})})]})})}),(0,f.jsx)("div",{className:"row d-flex justify-content-center",children:(0,f.jsxs)("div",{className:"col-md-6 justify-content-center",children:[(0,f.jsx)("p",{className:"h6 text-decoration-underline text-capitalize",children:(0,f.jsx)("strong",{children:"In Case You need help :"})}),(0,f.jsxs)("ul",{children:[(0,f.jsxs)("li",{children:[(0,f.jsx)("strong",{children:"Email : "}),(0,f.jsx)("em",{children:"contact.techsystems@gmail.com"})]}),(0,f.jsxs)("li",{children:[(0,f.jsx)("strong",{children:"Whatsapp : "}),(0,f.jsx)("em",{children:"+254 703535116"})]}),(0,f.jsxs)("li",{children:[(0,f.jsx)("strong",{children:"Facebook : "}),(0,f.jsx)("em",{children:"www.facebook.com/techsystems.world"})]})]})]})}),(0,f.jsx)("div",{className:" row d-flex justify-content-center",children:(0,f.jsx)("div",{className:"col-md-6 d-flex justify-content-around",children:(0,f.jsxs)("button",{className:"btn btn-sm btn-outline-secondary",onClick:function(){return n(!1)},children:[(0,f.jsx)(h.Z,{})," Go Back"]})})})]})},p=n(8920),y=n(3119),b=n(6029),w=function(){(0,c.useEffect)((function(){le()}),[]);var e=(0,c.useState)(!1),t=(0,a.Z)(e,2),n=t[0],u=t[1],h=(0,c.useState)(""),x=(0,a.Z)(h,2),m=x[0],w=x[1],v=(0,c.useState)(""),N=(0,a.Z)(v,2),S=N[0],g=N[1],Z=(0,c.useState)(""),I=(0,a.Z)(Z,2),C=I[0],k=I[1],O=(0,c.useState)(!1),R=(0,a.Z)(O,2),T=R[0],z=R[1],A=(0,c.useState)(!1),E=(0,a.Z)(A,2),D=E[0],F=E[1],K=(0,c.useState)(0),P=(0,a.Z)(K,2),q=P[0],U=P[1],B=(0,c.useState)([]),G=(0,a.Z)(B,2),J=G[0],L=G[1],M=(0,c.useState)({cost:48}),Q=(0,a.Z)(M,2),W=Q[0],X=Q[1],Y=(0,c.useState)(0),H=(0,a.Z)(Y,2),V=H[0],$=H[1],_=(0,c.useState)("USD"),ee=(0,a.Z)(_,2),te=ee[0],ne=ee[1],se=(0,c.useState)(!1),re=(0,a.Z)(se,2),ae=re[0],ce=re[1],ie=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),m===C){e.next=4;break}return F(!0),e.abrupt("return");case 4:return u(!0),e.next=7,oe();case 7:return e.next=9,ue();case 9:z(!0),u(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(l.l,"/sub/fetch"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer "},body:JSON.stringify({softwareId:"".concat(parseInt(m)).split("").reverse().join("")})}).then((function(e){return e.json()})).then((function(e){200===e.status?L(e.subs):d()({title:"Failed to connect",icon:"warning",timer:3e3})})).catch((function(){d()({title:"Failed to connect",icon:"warning",timer:3e3})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(!0),e.next=3,fetch("".concat(l.l,"/sub/exchange"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer "},body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(e){if(ce(!1),200===e.status){if(Intl){var t=Intl.DateTimeFormat().resolvedOptions().timeZone.split("/"),n=t[t.length-1],s=y.X[n],r=b.T.find((function(e){return e.countryName.toLowerCase()===s.toLowerCase()}));ne(r.currencyCode||te),U(e.data.KES||V),$(e.data[(r||{}).currencyCode]||V)}}else d()({title:"Failed to connect",icon:"warning",timer:3e3})})).catch((function(){ce(!1),d()({title:"Failed to connect",icon:"warning",timer:3e3})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(l.l,"/agent/inst"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer "},body:JSON.stringify({softwareId:"".concat(parseInt(m)).split("").reverse().join("")})}).then((function(e){return e.json()})).then((function(e){e.agent&&X(e.agent)})).catch();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)("div",{children:[(0,f.jsx)(p.Z,{}),(0,f.jsx)("div",{className:"row d-flex justify-content-center",style:{marginTop:"40px"},children:(0,f.jsx)("div",{className:"col-md-8",children:(0,f.jsxs)("div",{className:"card",children:[(0,f.jsx)("div",{className:"card-header",children:(0,f.jsx)("h6",{className:"text-center",children:"Activate School Techsystem Software"})}),(0,f.jsx)("div",{className:"card-body",children:ae?(0,f.jsx)("div",{className:"jumbotron",children:(0,f.jsx)("p",{className:"text-center",children:(0,f.jsx)("span",{className:"spinner-border h5 text-primary"})})}):T?(0,f.jsx)(j,{subs:J,updatePay:z,amount:W.cost,softwareId:m,currency:te,rate:V,KenyanRate:q,email:S,setSubs:L}):(0,f.jsxs)(i.Z,{onSubmit:ie,children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{className:"mb-2 text-capitalize",children:"Email:"}),(0,f.jsx)("input",{className:"rounded form-control",placeholder:"enter your email",value:S,onChange:function(e){return g(e.target.value)},required:!0,type:"email"}),(0,f.jsx)("hr",{})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{className:"mb-2 text-capitalize",children:"Software Id:"}),(0,f.jsx)("input",{className:"rounded form-control",placeholder:"enter software id",value:m,onChange:function(e){return w(e.target.value)},required:!0}),(0,f.jsx)("hr",{})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsxs)("label",{className:"mb-2 text-capitalize",children:["Confirm Software Id:",D?(0,f.jsx)("small",{className:"text-danger",children:(0,f.jsx)("em",{children:"Not Matching"})}):null]}),(0,f.jsx)("input",{className:"rounded form-control",placeholder:"confirm software id",value:C,onChange:function(e){return k(e.target.value)},required:!0})]}),(0,f.jsx)("hr",{}),(0,f.jsx)("div",{className:"d-flex justify-content-around mb-2",children:n?(0,f.jsx)("span",{className:"spinner-border text-primary"}):(0,f.jsx)(o.Z,{variant:"primary",type:"submit",children:"Next"})})]})})]})})})]})}}}]);
//# sourceMappingURL=428.d5abbf00.chunk.js.map